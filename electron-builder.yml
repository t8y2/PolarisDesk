appId: com.polaris-desk.app
productName: PolarisDesk
directories:
  buildResources: build
  output: dist
files:
  - out/**/*
  - package.json
  - node_modules/**/*
  - resources/**/*
  - native/**/*.node
  - '!**/.vscode/*'
  - '!src/*'
  - '!electron.vite.config.{js,ts,mjs,cjs}'
  - '!{.eslintcache,eslint.config.mjs,.prettierignore,.prettierrc.yaml,dev-app-update.yml,CHANGELOG.md,README.md}'
  - '!{.env,.env.*,.npmrc,pnpm-lock.yaml}'
  - '!{tsconfig.json,tsconfig.node.json,tsconfig.web.json}'
  - '!**/*.{ts,tsx,map}'
  - '!**/test/**'
  - '!**/tests/**'
  - '!**/*.test.*'
  - '!**/*.spec.*'
  - '!**/docs/**'
  - '!**/docs-site/**'
  - '!**/examples/**'
  - '!**/{.github,.vscode,test,tests,docs,docs-site,examples,coverage}/**'
  - '!node_modules/@types/**'
  - '!node_modules/**/README.md'
  - '!node_modules/**/CHANGELOG.md'
  - '!node_modules/**/LICENSE*'
  - '!node_modules/**/*.d.ts'
  - '!node_modules/**/*.ts'
  - '!native/**/node_modules/**'
  - '!native/**/*.{mm,h,cc,cpp}'
  - '!*.md'
  - '!.performance-checklist.md'
  - '!PERFORMANCE_IMPROVEMENTS.md'
  - '!性能优化说明.md'
asarUnpack:
  - resources/**
  - node_modules/ffmpeg-static-electron/**
  - native/**/*.node
asar: true
win:
  executableName: polaris-desk
  target:
    - target: nsis
      arch:
        - x64
nsis:
  oneClick: false
  allowToChangeInstallationDirectory: true
  artifactName: ${name}-${version}-setup.${ext}
  shortcutName: ${productName}
  uninstallDisplayName: ${productName}
  createDesktopShortcut: always
mac:
  entitlementsInherit: build/entitlements.mac.plist
  extendInfo:
    - NSCameraUsageDescription: Application requests access to the device's camera.
    - NSMicrophoneUsageDescription: Application requests access to the device's microphone.
    - NSDocumentsFolderUsageDescription: Application requests access to the user's Documents folder.
    - NSDownloadsFolderUsageDescription: Application requests access to the user's Downloads folder.
    - NSDesktopFolderUsageDescription: Application requests access to the user's Desktop folder.
    - NSSystemAdministrationUsageDescription: Application requests access to administer this computer.
  notarize: false
compression: maximum
dmg:
  artifactName: ${name}-${version}.${ext}
linux:
  target:
    - AppImage
    - snap
    - deb
  maintainer: electronjs.org
  category: Utility
appImage:
  artifactName: ${name}-${version}.${ext}
npmRebuild: false
publish:
  # 使用 GitHub releases 作为更新服务器
  # 需要在 GitHub 仓库中创建 release 并上传构建文件
  # 格式: owner/repo
  provider: github
