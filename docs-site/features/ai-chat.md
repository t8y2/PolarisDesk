# AI 对话

与 AI 模型对话。

## 支持的服务

- OpenAI (GPT-3.5, GPT-4)
- Anthropic (Claude 3)
- Google (Gemini)
- DeepSeek
- Moonshot (Kimi)
- OpenRouter
- Ollama
- Z AI
- SiliconCloud

## 功能

- 流式响应
- 多轮对话
- Markdown 渲染
- 代码高亮
- 数学公式

## 使用方法

### 基本对话

1. 在输入框中输入你的问题
2. 按 `Enter` 发送（`Shift+Enter` 换行）
3. AI 将实时返回回答

### 代码对话

询问编程相关问题时，AI 会返回带语法高亮的代码：

````markdown
**用户**: 写一个 Python 快速排序

**AI**: 这是一个 Python 快速排序的实现：

```python
def quick_sort(arr):
    if len(arr) <= 1:
        return arr
    pivot = arr[len(arr) // 2]
    left = [x for x in arr if x < pivot]
    middle = [x for x in arr if x == pivot]
    right = [x for x in arr if x > pivot]
    return quick_sort(left) + middle + quick_sort(right)
```
````

### 数学公式

支持 LaTeX 数学公式渲染：

**用户**: 解释二次方程公式

**AI**: 二次方程的求根公式为：

$$x = \frac{-b \pm \sqrt{b^2 - 4ac}}{2a}$$

其中 $a$、$b$、$c$ 是方程 $ax^2 + bx + c = 0$ 的系数。

### 文档上传

支持上传文档让 AI 分析：

1. 点击输入框左侧的 📎 图标
2. 选择文档文件
3. 输入你的问题
4. AI 将基于文档内容回答

支持的文档格式：

- PDF (.pdf)
- Word (.docx, .doc)
- PowerPoint (.pptx, .ppt)
- 文本文件 (.txt, .md)

## 高级功能

### 系统提示词

自定义 AI 的行为和角色：

1. 打开 **设置** > **系统提示词**
2. 输入自定义提示词
3. 保存并应用

示例提示词：

```
你是一位专业的 Python 开发者，擅长编写高质量、可维护的代码。
在回答问题时，请：
1. 提供清晰的代码示例
2. 解释关键概念
3. 指出最佳实践
4. 提醒常见陷阱
```

### 人设预设

快速切换不同的 AI 角色，让 AI 扮演专家、助手等不同人设：

1. 点击输入框左侧的 **人设图标** 🎭
2. 选择想要的人设（编程专家、写作助手等）
3. 开始对话

详见 [人设预设](./persona-presets.md)。

### AI 命令行

让 AI 理解你的意图并生成执行系统命令：

**示例**:

- "列出当前目录下所有的 Python 文件"
- "查看系统内存使用情况"
- "查找包含 'TODO' 的所有文件"

AI 会生成对应的命令，你可以选择执行。详见 [AI 命令行](./ai-command.md)。

### 对话管理

#### 新建对话

- 快捷键: `Ctrl/Cmd + N`
- 或点击左上角的 ➕ 按钮

#### 切换对话

- 在左侧对话列表中点击切换
- 支持搜索对话历史

#### 删除对话

- 右键点击对话
- 选择"删除对话"
- 或使用滑动删除

#### 导出对话

- 右键点击对话
- 选择"导出对话"
- 支持导出为 Markdown 或 JSON

### 消息操作

#### 复制消息

- 点击消息右上角的复制图标
- 或选中文本后 `Ctrl/Cmd + C`

#### 重新生成

- 点击消息下方的 🔄 按钮
- AI 将重新生成回答

#### 编辑消息

- 点击消息右上角的编辑图标
- 修改后重新发送

#### 删除消息

- 点击消息右上角的删除图标
- 确认删除

## 最佳实践

### 提问技巧

1. **明确具体**: 清晰描述你的问题
   - ❌ "这个代码有问题"
   - ✅ "这段 Python 代码运行时报 IndexError，如何修复？"

2. **提供上下文**: 给出必要的背景信息
   - ❌ "怎么做？"
   - ✅ "我在用 Vue 3 开发，想实现一个下拉菜单组件，应该怎么做？"

3. **分步骤**: 复杂问题分解成小问题
   - ❌ "帮我做一个完整的电商网站"
   - ✅ "首先，如何设计电商网站的数据库表结构？"

### 模型选择

根据任务选择合适的模型：

| 任务类型 | 推荐模型                | 原因       |
| -------- | ----------------------- | ---------- |
| 日常对话 | GPT-3.5-Turbo, DeepSeek | 快速、经济 |
| 复杂推理 | GPT-4, Claude 3 Opus    | 能力强     |
| 代码编写 | DeepSeek Coder, GPT-4   | 专业性强   |
| 长文本   | Moonshot-v1-128k        | 超长上下文 |
| 本地运行 | Ollama                  | 隐私保护   |

### 参数调整

根据需求调整模型参数：

- **创意写作**: Temperature 0.8-1.0
- **代码生成**: Temperature 0.2-0.4
- **事实问答**: Temperature 0.0-0.3
- **头脑风暴**: Temperature 0.7-0.9

## 常见问题

### AI 回答不准确

1. 检查模型选择是否合适
2. 调整 Temperature 参数
3. 提供更多上下文信息
4. 尝试重新表述问题

### 响应速度慢

1. 检查网络连接
2. 尝试切换到更快的模型
3. 减少上下文长度
4. 配置代理（如需要）

### API 调用失败

1. 检查 API Key 是否正确
2. 确认账户余额充足
3. 检查 API 端点是否正确
4. 查看错误日志获取详细信息

## 快捷键

| 功能     | Windows/Linux | macOS         |
| -------- | ------------- | ------------- |
| 发送消息 | `Enter`       | `Enter`       |
| 换行     | `Shift+Enter` | `Shift+Enter` |
| 新建对话 | `Ctrl+N`      | `Cmd+N`       |
| 清空输入 | `Ctrl+L`      | `Cmd+L`       |
| 停止生成 | `Esc`         | `Esc`         |
| 复制消息 | `Ctrl+C`      | `Cmd+C`       |
